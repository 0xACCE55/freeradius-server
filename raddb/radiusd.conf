#
# radius.conf	Radius config file.
#
#		In this file the location of other config files and
#		logfiles are declared.
#
#		Also general configuration for modules can be done
#		in this file, it is exported through the API to
#		modules that ask for it.
#

#
#	Location of config and logfiles.
#
confdir    = /etc/raddb

utmpfile   = /var/log/radutmp
wtmpfile   = /var/log/radutmp
detailfile = /var/log/radacct/%n/detail
pidfile    = /var/run/radiusd.pid

checkrad   = /usr/local/sbin/checkrad

max_request_time	= 30
cleanup_delay		= 5
max_requests		= 256
allow_core_dumps	= no
log_stripped_names	= no

#
#	Definition of a NAS or a client.
#
#	If this is defined as "client foo" then the hostname/ipaddr "foo"
#	will be looked up according to the source IP address of the radius
#	rqeuest packet, and the secret here will be used to check the
#	integrety of the request.
#
#	If this is defined as "nas foo" then foo will be looked up first
#	as the NAS-IP-Address in the radius request, then as the NAS-Ident
#	in the radius request.
#
#	Normally you'd use "client" unless the request came in through a
#	proxy server and you want to define a short name for the NAS
#	for logging purposes, or you want to do a "checkrad" back to the
#	original NAS and not to the proxy radius server!
#
#	The "shortname" can be used for logging, and the "vendor",
#	"type", "login" and "password" fields are mainly used for checkrad.
#

client 127.0.0.1 {
	secret		= testing123
	shortname	= localhost
}

#client some.host.org {
#	secret		= testing123
#	shortname	= localhost
#}


client 10.10.10.10 {
	# secret and password are mapped through the "secrets" file.
	secret      = testing123
	shortname   = liv1
	vendor      = livingston
	# Type should extend to the line type, because of the "hole".
	#Line#/T S Port  SNMP Port
	#-------------------------
	#1 PRI   0-22    1-23
	#2 PRI   24-46   25-47
	#1 CT1   0-23    1-24
	#2 CT1   24-47   25-48
	#1 E1    0-28    1-29
	#2 E1    30-58   31-59
	#And C0 is 96 in Radius.
	type        = pm3-eur # pm3-i23 pm3-ct24 pm3-i30
	login       = !root
	password    = someadminpas
}

#
#	Configuration for the proxy module.
#
#realm isp2.com {
#	type        = radius
#	authhost    = radius.isp2.com:1645
#	accthost    = radius.isp2.com:1646
# secret doesn't work here now
#	secret      = TheirKey
#	nostrip
#	utmpfile   += /var/log/radutmp.isp2
#	wtmpfile   += /var/log/radwtmp.isp2
#	detailfile += /var/log/radacct/isp2/detail
#}

#realm company.com {
#	type		= radius
#	authhost	= radius.company.com:1600
#	accthost	= radius.company.com:1601
#	secret		= testing123
#}

#realm bla.com {
#	type		= radius
#	authhost	= LOCAL
#	accthost	= LOCAL
#	secret		= testing123
#}

#
#	Configuration for an SQL module.
#
sql auth {
	# Password is mapped through the "secrets" file.
	server      = sql.domain.com
	username    = radius
	password    = sql-passwd

	database    = radiusd
	table       = users

	username    = username
	password    = pass
}

sql acct {
	# Password is mapped through the "secrets" file.
	server      = sql.domain.com
	username    = radius
	password    = sql-passwd

	database    = radiusd
	table       = logs

	when        = "Start,Update,Stop"

	field       = "Acct-Status-Type status"
	field       = "User-Name username"
	field       = "NAS-Port-Type type"
	field       = "Acct-Session-Time"
	field       = "Acct-Input-Octets input"
	field       = "Acct-Output-Octets output"
}

#module ldap {
#	ldapserver   = localhost
#	ldaplogin    = "cn=admin,o=My Org,c=US"
#	ldappassword = mypass
#	ldapbasedn   = "o=My Org,c=US"
#	ldapfilter   = "(uid=%u)"
#}
